<!doctype html5>
<html>
<head>
  <title>Neotree</title>

  <!-- TODO(sjwalter): Real resource bundling & loading. -->
  <!-- JQuery. -->
  <script src="/resources/third_party/jquery/latest/jquery.min.js">
  </script>

  <!-- Bootstrap. -->
  <link
      rel="stylesheet"
      href="/resources/third_party/bootstrap/latest/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u">
  <script
      src="/resources/third_party/bootstrap/latest/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa">
  </script>

  <!-- Tracking.js -->
  <script src="/resources/third_party/tracking.js/tracking.js">
  </script>

  <!-- Three.js. -->
  <script src="/resources/third_party/three.js/three.js">
  </script>

  <!-- JSColor -->
  <script src="/resources/third_party/jscolor/jscolor.min.js">
  </script>

  <!-- WebNeopixel. -->
  <script src="/resources/web-neopixel/web-neopixel.js">
  </script>

  <!-- Neotree. -->
  <script src="/resources/neotree/neotree-app.js">
  </script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    #tree-configuration-video,
    #tree-configuration-canvas {
      margin-left: 15px;
      margin-top: 15px;
      position: absolute;
    }
  </style>
</head>
<body>
  <div id="header">
    <h1>
      NeoTree
    </h1>
    <input class="jscolor" id="tree-color">
  </div>

  <div id="tree-configuration-screen"
       class="app-screen"
       style="display: none;">
    <div class="row-fluid">
      <div class="col-xs-6">
	<h2>AutoTree</h2>
	Use your webcam to figure out the layout of the strip on your tree.
	<button id="tree-configuration-start-button"
	        class="btn btn-primary">
	  Start autotree!
	</button>
      </div>
      <h4 id="tree-configuration-status"></h4>
      <div class="tree-configuration-parameters">
	<div class="col-xs-4">
	  min dimension
	  <input type="text" id="tree-configuration-min-dimension" value="1">
	</div>
	<div class="col-xs-4">
	  min group size
	  <input type="text" id="tree-configuration-min-group-size" value="1">
	</div>
	<div class="col-xs-4">
	  max dimension
	  <input type="text" id="tree-configuration-max-dimension" value="25">
	</div>
	<div class="col-xs-4">
	  light threshold
	  <input type="text" id="tree-configuration-light-threshold" value="235">
	</div>
      </div>
      <div class="row-fluid">
	<div class="col-xs-8">
	  <video id="tree-configuration-video"
		  width="640" height="480" 
		  preload autoplay loop muted controls>
	  </video>
	  <!--<img id="tree-configuration-video" width="600" height="450" src="/resources/images/tree-bright-white.png">-->
	  <canvas id="tree-configuration-canvas"
		  width="640" height="480">
	  </canvas>
	</div>
      </div>
    </div>
  </div>

  <script>
    jQuery(function() {
      NeotreeApp.getThisPartyStarted();
    });
  </script>
</body>
</html>
